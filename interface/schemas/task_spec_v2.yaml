# core/schema/task_spec_v2.yaml
# TaskSpec v2 - Advanced Agency Contract

version: 2

required:
  - task_id
  - created_at_utc
  - actor
  - lane
  - intent
  - inputs
  - outputs_expected
  - reply_to

optional:
  - hash
  - sot_ref
  - idempotency_key

rules:
  lane:
    allowed: ["task", "ops", "meta", "liam", "lisa"]
  created_at_utc:
    format: "iso8601_z"
  actor:
    allowed: ["liam", "lisa", "codex", "gmx", "gc", "human"]
  executor:
    allowed: ["liam", "lisa", "codex", "gmx", "gc", "shell"]

defaults:
  lane: "task"
  outputs_expected: {}
  reply_to: "interface/outbox/tasks"
