{"openapi":"3.1.0","info":{"title":"OPAL API","description":"Telemetry & Health Service for 02luka OPAL V4 Pipeline","version":"1.2.0"},"paths":{"/api/health":{"get":{"summary":"Health Check","description":"Basic health check endpoint.","operationId":"health_check_api_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/health":{"get":{"summary":"Health Alias","description":"Alias for /api/health to reduce 404 noise.","operationId":"health_alias_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/api/status":{"get":{"summary":"Quick Status","description":"Quick status for other health checks (avoids recursion).","operationId":"quick_status_api_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}}}}},"/api/jobs":{"post":{"summary":"Create Job","description":"Submit a new design pipeline job (Minimal Law).","operationId":"create_job_api_jobs_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_job_api_jobs_post"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jobs/{id}":{"get":{"summary":"Get Job","description":"Retrieve job status (Minimal Law).","operationId":"get_job_api_jobs__id__get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/artifacts/{id}":{"get":{"summary":"Get Artifact","description":"Retrieve an artifact by its stable ID.","operationId":"get_artifact_api_artifacts__id__get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/telemetry/latest":{"get":{"summary":"Telemetry Latest","operationId":"telemetry_latest_api_telemetry_latest_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/telemetry/summary":{"get":{"summary":"Telemetry Summary","operationId":"telemetry_summary_api_telemetry_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_create_job_api_jobs_post":{"properties":{"prompt":{"type":"string","title":"Prompt"},"file":{"type":"string","format":"binary","title":"File"},"metadata":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["prompt","file"],"title":"Body_create_job_api_jobs_post"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status"},"timestamp":{"type":"string","title":"Timestamp"},"service":{"type":"string","title":"Service","default":"opal_api"},"version":{"type":"string","title":"Version","default":"1.0.0"}},"type":"object","required":["status","timestamp"],"title":"HealthResponse"},"JobDetail":{"properties":{"id":{"type":"string","title":"Id"},"status":{"type":"string","title":"Status"},"outputs":{"anyOf":[{"items":{"$ref":"#/components/schemas/JobOutput"},"type":"array"},{"type":"null"}],"title":"Outputs"},"error":{"anyOf":[{"$ref":"#/components/schemas/JobError"},{"type":"null"}]},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"started_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Started At"},"completed_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Completed At"}},"type":"object","required":["id","status"],"title":"JobDetail"},"JobError":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"JobError"},"JobInfo":{"properties":{"id":{"type":"string","title":"Id"},"status":{"type":"string","title":"Status"}},"type":"object","required":["id","status"],"title":"JobInfo"},"JobOutput":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"kind":{"type":"string","title":"Kind"},"mime":{"type":"string","title":"Mime"},"sha256":{"type":"string","title":"Sha256"},"href":{"type":"string","title":"Href"}},"type":"object","required":["id","name","kind","mime","sha256","href"],"title":"JobOutput"},"StatusResponse":{"properties":{"status":{"type":"string","title":"Status"},"uptime":{"type":"string","title":"Uptime","default":"running"},"port":{"type":"integer","title":"Port","default":7001}},"type":"object","required":["status"],"title":"StatusResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}