---
policy_name: opal_puppet_containment
version: 1.0.0
enforcement: strict
---

# Opal "Puppet" Policy (Hybrid Lane)

This policy governs the use of the Browser Automation Driver (`opal_driver.py`) within the 0luka Studio ecosystem.

## 1. Scope & Isolation
-   **Studio Only**: The Puppet MUST ONLY be triggered by the Studio Lane (`modules/studio`).
-   **System Exclusion**: The Puppet is STRICTLY FORBIDDEN from interacting with `core/`, `system/`, or `governance/` lanes. It has NO AUTHORITY to promote artifacts or modify system policies.
-   **No Silent Actions**: All Puppet actions must start from a traceable `module_request` ID.

## 2. Authentication (Human-in-the-Loop)
-   **No Credential Storage**: The Puppet SHALL NOT store or manage raw passwords for Google accounts.
-   **Human Login**: If the session expires, the Puppet MUST PAUSE and prompt the user (via CLI/Logs) to sign in manually.
-   **Kill-Switch**: If the Puppet detects a login flow it cannot handle (e.g., CAPTCHA, 2FA), it MUST ABORT immediately ("Fail-Closed").

## 3. DOM & stability
-   **Fragility Check**: The Puppet relies on DOM Selectors (e.g., `#create-new-button`). If these selectors fail >3 times, the entire lane is marked `DEGRADED` until manual intervention.
-   **Visual Proof**: Every "Save" or "Effect" action must be accompanied by a screenshot evidence file (`_result.png`).

## 4. Promotion Gate
-   **Artifact Trust**: Artifacts generated by the Puppet are considered `UNVERIFIED_DRAFT`.
-   **Promotion**: To move a Puppet artifact to the System Lane, it MUST pass through the standard Studio Promotion Gate (User Approval).

STATUS: ACTIVE
APPROVED_BY: GMX (Draft)
